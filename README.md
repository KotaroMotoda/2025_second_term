# 2025年度後期 - 並列計算システム概要

## 1. ソフトウェアの並列性

### 逐次プログラム
- **単位**: プログラム全体

### 並列プログラム

#### タスク並列 `[単位: タスク/プロセス]`
複数の独立したタスク（プロセスやスレッド）を同時に実行する方式。各タスクは異なる処理内容を持つことが多く、ワークフローや分散処理などで利用される。

**例**: Webサーバのリクエスト処理、分散シミュレーション

#### スレッド並列 `[単位: スレッド]`
一つのプログラム内で複数のスレッドが同時に動作し、同じ処理や異なる処理を分担して実行する方式。主に共有メモリ上で動作し、マルチコアCPUでの高速化に利用される。

**例**: マルチスレッドプログラム、並列ソート

#### データ並列 `[単位: データ要素]`
同じ処理を大量のデータ要素に対して同時に適用する方式。ベクトル演算や画像処理、科学技術計算などでよく使われる。

**例**: 行列演算、GPUによる画像フィルタ処理

---

## 2. プログラミングモデル・分類軸

### Flynnの分類 `[単位: 命令流/データ流]`
- **SISD**: 単一命令、単一データ
- **SIMD**: 単一命令、複数データ
- **MISD**: 複数命令、単一データ
- **MIMD**: 複数命令、複数データ

### その他の分類
- **SPMD/MPMD**: 単一/複数プログラム
- **メッセージパッシング** `[単位: プロセス間通信]`

---
## 3. ハードウェア並列性

### 並列性の分類軸

#### 空間的並列（Spatial Parallelism）
複数のリソースを同時に使う並列性（物理的な同時実行）

- **マルチコア**: 複数コアで同時に命令を実行
- **SIMDプロセッサ**: 単一命令で複数データを同時処理
- **ベクトルプロセッサ**: ベクトル命令で長いデータ列を同時処理
- **GPU**: 多数の演算ユニットでデータ並列処理
- **SMT（同時マルチスレッド）**: 1コア内の複数スレッドが同時に命令を発行
- **SMP/NUMA**: 複数プロセッサ/ノードによる並列
- **クラスタ/グリッド**: 複数ノード/マシンによる分散並列
- **ドメイン固有アーキテクチャ**: 専用回路による並列（例: TPU, FPGA）

#### 時間的並列（Temporal Parallelism）
1つのリソースを時間で分割して複数処理

- **粗粒度マルチスレッド**: 長い待ち時間ごとにスレッド切替
- **細粒度マルチスレッド**: 命令ごとにスレッド切替
- **パイプライン**: 命令を段階的に重ねて実行

### 命令レベル並列（ILP） `[単位: 命令]`
- **スーパースカラ**: 複数命令を同時発行
- **VLIW**: 複数命令を1命令語で同時実行

### データレベル並列（DLP） `[単位: データ要素]`

#### スカラアーキテクチャ
1命令1データ。逐次実行が基本で、各命令ごとにデータハザード（依存関係）の確認が毎回必要。メモリアクセスのレイテンシ（待ち時間）の影響を受けやすい。

#### SIMDアーキテクチャ
1命令複数データ。for文の処理など、データレベル並列性を持つデータを処理する時に、最も高い性能を発揮する。

#### ベクトルアーキテクチャ
ベクトル命令で複数データをまとめて処理。データハザードの確認はベクトル単位で効率的に行われるため、スカラ型よりもオーバーヘッドが小さい。メモリアクセスも連続アクセスが多く、レイテンシ隠蔽が可能。

#### GPUアーキテクチャ
大量データ並列処理に特化

### プロセッサレベル `[単位: コア/ノード]`
- **マルチコア**
- **SMP/NUMA**
- **クラスタ（疎結合）**
- **グリッド**

---
## 4. メモリ構造

### メモリアーキテクチャの分類
- **メモリ階層化** `[単位: メモリレベル]`
- **共有/プライベートメモリ** `[単位: アドレス空間]`

---

## 5. 相互接続ネットワーク

### ネットワーク構成要素
- **ノード/リンク/トポロジ** `[単位: ノード間接続]`

> **トポロジとは**: ノード同士の接続形態。バス、リング、メッシュ、ツリー、N-キューブ（ハイパーキューブ）、全結合、マルチステージ（クロスバ、バタフライなど）などがある。それぞれ通信遅延や拡張性、コストに特徴がある。

### 主要なトポロジタイプ
- **バス**
- **メッシュ**
- **N-キューブ**
- **全結合**
- **マルチステージ**

---

## 6. ベンチマーク・性能指標

### 測定対象
- **プログラム/アプリ/システム** `[単位: 測定対象全体]`

### 主要なベンチマーク
- **Linpack**
- **SPEC**
- **ルーフライン**

---

## 用語解説

### マルチスレッド
複数のスレッド（実行の流れ）を切り替えたり同時に実行したりできる仕組み全般を指す。ソフトウェア（OSやランタイムによるスレッド切替）とハードウェア（CPUによる同時/高速切替）の両方を含む。

ハードウェア的マルチスレッドには以下が含まれる：
- **SMT（同時マルチスレッディング）**
- **粗粒度マルチスレッド**
- **細粒度マルチスレッド**